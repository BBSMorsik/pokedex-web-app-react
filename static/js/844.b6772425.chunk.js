"use strict";(self.webpackChunkpokemon_starter=self.webpackChunkpokemon_starter||[]).push([[844],{153(e,a,s){s.r(a),s.d(a,{default:()=>g});var r=s(43),n=s(502),c=s(425);const t=()=>{const{loading:e,request:a,error:s,clearError:n}=(()=>{const[e,a]=(0,r.useState)(!1),[s,n]=(0,r.useState)(null),c=(0,r.useCallback)(async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{"Content-Type":"application/json"};a(!0);try{const n=await fetch(e,{method:s,body:r,headers:c});if(!n.ok)throw new Error("Could not fetch ".concat(e,", status: ").concat(n.status));const t=await n.json();return a(!1),t}catch(t){throw a(!1),n(t.message),t}},[]);return{loading:e,request:c,error:s,clearError:(0,r.useCallback)(()=>n(null),[])}})(),c="https://pokeapi.co/api/v2/pokemon",t=async e=>{const s=(await a(e)).flavor_text_entries.find(e=>"en"===e.language.name);return s?s.flavor_text.replace(/\n/g," ").replace(/\f/g," "):"No description"},l=(e,a)=>{const s=a.length>200?a.slice(0,197)+"...":a;return{id:e.id,name:e.name,description:s,images:e.sprites.other.dream_world.front_default||e.sprites.other["official-artwork"].front_default||e.sprites.front_default,stats:e.stats.map(e=>({name:e.stat.name.replace("-"," "),value:e.base_stat})),types:e.types.map(e=>e.type.name),homepage:null,wiki:null}};return{loading:e,error:s,clearError:n,getPokemon:async e=>{const s=await a("".concat(c,"/").concat(e,"/")),r=await t(s.species.url);return l(s,r)},getAllPokemons:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=[...(await a("".concat(c,"?limit=1025"))).results].sort(()=>Math.random()-.5).slice(s,s+e);return Promise.all(r.map(async e=>{const s=await a(e.url),r=(await a(s.species.url)).flavor_text_entries.find(e=>"en"===e.language.name),n=r?r.flavor_text.replace(/\n/g," ").replace(/\f/g," "):"No description";return l(s,n)}))}}},l=s.p+"static/media/pokeball.ae1f66d65d00651e4093.png";var o=s(579);const i=()=>{const[e,a]=(0,r.useState)(null),{loading:s,error:i,getPokemon:d,clearError:h}=t();(0,r.useEffect)(()=>{u()},[]);const m=e=>{a(e)},u=()=>{h();const e=Math.floor(1025*Math.random())+1;d(e).then(m)},_=e=>{let{char:a}=e;if(!a||!a.name)return null;const{name:s,description:r,images:n}=a;return(0,o.jsxs)("div",{className:"randomchar__block",children:[(0,o.jsx)("img",{src:n,alt:"Random character",className:"randomchar__img"}),(0,o.jsxs)("div",{className:"randomchar__info",children:[(0,o.jsx)("p",{className:"randomchar__name",children:s}),(0,o.jsx)("p",{className:"randomchar__descr",children:r}),(0,o.jsxs)("div",{className:"randomchar__btns",children:[(0,o.jsx)("a",{href:"https://www.pokemon.com/us/pokedex/".concat(s),target:"_blank",className:"button button__main",rel:"noreferrer noopener",children:(0,o.jsx)("div",{className:"inner",children:"Pok\xe9dex"})}),(0,o.jsx)("a",{href:"https://en.wikipedia.org/wiki/".concat(s),target:"_blank",className:"button button__secondary",rel:"noreferrer noopener",children:(0,o.jsx)("div",{className:"inner",children:"Wiki"})})]})]})]})},p=i?(0,o.jsx)(c.A,{}):null,x=s?(0,o.jsx)(n.A,{}):null,j=s||i?null:(0,o.jsx)(_,{char:e});return(0,o.jsxs)("div",{className:"randomchar",children:[p,x,j,(0,o.jsxs)("div",{className:"randomchar__static",children:[(0,o.jsxs)("p",{className:"randomchar__title",children:["Random pokemon for today!",(0,o.jsx)("br",{}),"Do you want to get to know him better?"]}),(0,o.jsx)("p",{className:"randomchar__title",children:"Or choose another one"}),(0,o.jsx)("button",{className:"button button__main",onClick:u,children:(0,o.jsx)("div",{className:"inner",children:"try it"})}),(0,o.jsx)("img",{src:l,alt:"pokeball",className:"randomchar__decoration"})]})]})},d=e=>{const[a,s]=(0,r.useState)([]),[l,i]=(0,r.useState)(0),[d,h]=(0,r.useState)(!1),[m,u]=(0,r.useState)(!1),{loading:_,error:p,getAllPokemons:x}=t();(0,r.useEffect)(()=>{j(l,!0)},[]);const j=(e,a)=>{h(!a),x(9,e).then(N)},N=e=>{let a=!1;e.length<9&&(a=!0),s(a=>[...a,...e]),h(!1),i(e=>e+9),u(a)},k=p?(0,o.jsx)(c.A,{}):null,g=_&&!d?(0,o.jsx)(n.A,{}):null;return(0,o.jsxs)("div",{className:"char__list",children:[k,g,(a=>(0,o.jsx)("ul",{className:"char__grid",children:a.map(a=>(0,o.jsxs)("li",{className:"char__item",onClick:()=>e.onCharSelected(a.id),children:[(0,o.jsx)("img",{src:a.images,alt:a.name}),(0,o.jsx)("div",{className:"char__name",children:a.name})]},a.id))}))(a),(0,o.jsx)("button",{className:"button button__main button__long",disabled:d,style:{display:m?"none":"block"},onClick:()=>j(l),children:(0,o.jsx)("div",{className:"inner",children:d?"Loading...":"Load more"})})]})},h=()=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{className:"char__select",children:"Please select a character to see information"}),(0,o.jsxs)("div",{className:"skeleton",children:[(0,o.jsxs)("div",{className:"pulse skeleton__header",children:[(0,o.jsx)("div",{className:"pulse skeleton__circle"}),(0,o.jsx)("div",{className:"pulse skeleton__mini"})]}),(0,o.jsx)("div",{className:"pulse skeleton__block"}),(0,o.jsx)("div",{className:"pulse skeleton__block"}),(0,o.jsx)("div",{className:"pulse skeleton__block"})]})]}),m=e=>{let{charId:a}=e;const[s,l]=(0,r.useState)(null),{loading:i,error:d,getPokemon:m,clearError:u}=t();(0,r.useEffect)(()=>{a&&_()},[a]);const _=()=>{a&&(u(),m(a).then(p))},p=e=>{l(e)},x=e=>{let{char:a}=e;const{name:s,description:r,images:n,stats:c=[],types:t=[]}=a;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"char__basics",children:[(0,o.jsx)("img",{src:n,alt:s}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"char__info-name",children:s}),(0,o.jsxs)("div",{className:"char__btns",children:[(0,o.jsx)("a",{href:"https://www.pokemon.com/us/pokedex/".concat(s),target:"_blank",className:"button button__main",rel:"noreferrer noopener",children:(0,o.jsx)("div",{className:"inner",children:"Pok\xe9dex"})}),(0,o.jsx)("a",{href:"https://en.wikipedia.org/wiki/".concat(s),target:"_blank",className:"button button__secondary",rel:"noreferrer noopener",children:(0,o.jsx)("div",{className:"inner",children:"Wiki"})})]})]})]}),(0,o.jsx)("div",{className:"char__descr",children:r}),(0,o.jsx)("div",{className:"char__comics",children:"Stats:"}),(0,o.jsx)("ul",{className:"char__comics-list",children:c.map((e,a)=>(0,o.jsxs)("li",{className:"char__comics-item",children:[(0,o.jsxs)("span",{className:"stat-name",children:[e.name.toUpperCase(),":"]}),(0,o.jsxs)("span",{className:"stat-value",children:[" ",e.value]})]},a))}),(0,o.jsx)("div",{className:"char__comics",children:"Types:"}),(0,o.jsx)("ul",{className:"char__comics-list",children:t.map((e,a)=>(0,o.jsx)("li",{className:"char__comics-item",children:e.toUpperCase()},a))})]})},j=s||i||d?null:(0,o.jsx)(h,{}),N=d?(0,o.jsx)(c.A,{}):null,k=i?(0,o.jsx)(n.A,{}):null,g=i||d||!s?null:(0,o.jsx)(x,{char:s});return(0,o.jsxs)("div",{className:"char__info",children:[j,N,k,g]})};var u=s(569);const _=s.p+"static/media/pika.b2c542b3fafe64aaabfb.png";var p=s(892),x=s(899),j=s(446),N=s.n(j);const k=()=>{const[e,a]=(0,r.useState)(""),[s,n]=(0,r.useState)(!1),[c,t]=(0,r.useState)(null),[l,i]=(0,r.useState)(""),d=(0,r.useCallback)(N()(async e=>{if(!e||e.length<2)return;const s=e.trim().toLowerCase();n(!0),i("");try{const e=await fetch("https://pokeapi.co/api/v2/pokemon/".concat(encodeURIComponent(s)));e.ok?(t(!0),a(s)):404===e.status?(t(!1),a(s)):(i("API error: ".concat(e.status)),t(null))}catch(r){i("Network error. Please try again."),t(null),console.error("Error:",r)}finally{n(!1)}},500),[]),h=e&&null!==c&&(0,o.jsx)("div",{className:"char__search-wrapper",children:l?(0,o.jsx)("div",{className:"char__search-error",children:l}):c?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"char__search-success",children:['\u2713 Pokemon "',e,'" found!']}),(0,o.jsx)("a",{href:"https://www.pokemon.com/us/pokedex/".concat(e),target:"_blank",rel:"noopener noreferrer",className:"button button__secondary",children:(0,o.jsx)("div",{className:"inner",children:"Open in Pokedex"})})]}):(0,o.jsxs)("div",{className:"char__search-error",children:['\u2717 Pokemon "',e,'" not found']})});return(0,o.jsxs)("div",{className:"char__search-form",children:[(0,o.jsx)(p.l1,{initialValues:{charName:""},validationSchema:x.Ik({charName:x.Yj().required("Enter pokemon name").matches(/^[a-zA-Z0-9\-\s]*$/,"Only Latin letters, numbers and hyphens").min(2,"Minimum 2 characters")}),onSubmit:e=>{d(e.charName)},children:e=>{let{values:r,handleChange:n}=e;return(0,o.jsxs)(p.lV,{children:[(0,o.jsx)("label",{className:"char__search-label",htmlFor:"charName",children:"Search Pokemon:"}),(0,o.jsxs)("div",{className:"char__search-wrapper",children:[(0,o.jsx)(p.D0,{id:"charName",name:"charName",type:"text",placeholder:"Enter pokemon name (pikachu etc.)",disabled:s,onChange:e=>{n(e),(e=>{const s=e.target.value;s?d(s):(t(null),a(""),i(""))})(e)}}),(0,o.jsx)("button",{type:"submit",className:"button button__main",disabled:s||!r.charName.trim(),children:(0,o.jsx)("div",{className:"inner",children:s?"...":"Search"})})]}),(0,o.jsx)(p.Kw,{component:"div",className:"char__search-error",name:"charName"})]})}}),h,s&&(0,o.jsx)("div",{className:"char__search-loading",children:"Checking pokemon..."})]})},g=()=>{const[e,a]=(0,r.useState)(null);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(u.A,{children:(0,o.jsx)(i,{})}),(0,o.jsxs)("div",{className:"char__content",children:[(0,o.jsx)(u.A,{children:(0,o.jsx)(d,{onCharSelected:a})}),(0,o.jsxs)("div",{children:[(0,o.jsx)(u.A,{children:(0,o.jsx)(m,{charId:e})}),(0,o.jsx)(u.A,{children:(0,o.jsx)(k,{})})]})]}),(0,o.jsx)("img",{className:"bg-decoration",src:_,alt:"pikachu"})]})}}}]);
//# sourceMappingURL=844.b6772425.chunk.js.map